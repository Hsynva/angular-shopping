<div class="row">
  <div class="col-md-2 col-sm-12 my-4">
    <category (categoryStr)="getAllProducts($event)"></category>
  </div>

  <div class="col-md-10 col-sm-12">
    <div class="container">
      <div class="row gy-1 ">
        <div class="col-md-3 col-sm-12" *ngFor="let product of products ">
          <div class="card p-1 cards">
            <img [src]="product?.image" class="card-img-top">
            <div class="card-body">
              <h5 class="card-title">{{product?.title?.toString()?.slice(0,10)}}</h5>
              <p class="card-text">{{product?.description?.toString()?.slice(0,10)}}</p>
              <div class="btn">
                <button type="button" class=" btn-dark btn3" (click)="addToDetail(product,true,true)">Details</button>
                <button type="button" class=" btn-dark" (click)="addToCart(product)">
                  Səbətə əlavə et
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="next-page" (click)="onClickNextPage()">
        <my-spinner *ngIf="loading" [color]="xcolor"></my-spinner>
        <span *ngIf="!loading">Yeni məhsulları yüklə</span>
      </div>

      <!-- Modal -->
      <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true"
        style="background-color: #000000b0" [ngClass]="{'show': showModal , 'd-block': dBlock}">
        <div class="modal-dialog" *ngIf="selectedProduct">
          <div class="modal-content">
            <div class="modal-body">

              <div class="row">

                <div class="col-md-4 col-sm-12">
                  <img class='img' [src]="selectedProduct?.image" />
                </div>
                <div class="col-md-8 col-sm-12 p-3">
                  <div class="col-12 text-center" style="font-size: 25px;">
                    {{selectedProduct?.title?.toString()?.slice(0,10)}}
                  </div>
                  <div class="col-12" style="font-size: 19px;">
                    <i>{{selectedProduct?.description?.toString()?.slice(1,64)}}</i>
                  </div>
                </div>

              </div>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary p-2" data-bs-dismiss="modal"
                (click)="closeModal(false,false)">Bağla</button>
              <button type="button" class="btn btn-primary p-2" (click)="addToCart(selectedProduct)">Səbətə əlavə et
                </button>
            </div>
          </div>
        </div>
      </div>

    </div>
  </div>
</div>